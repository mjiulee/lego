package utils

import ()

/*
 * 根据总记录数和分页大小，计算分页列表
 */
func GetPages(curpage int64, total int64, psize int64) (pages []int64, ttpage int64) {
	rtlist := make([]int64, 0)
	totalpage := total / psize

	if total%psize != 0 {
		totalpage += 1
	}
	if totalpage < 10 {
		for i := int64(1); i <= totalpage; i++ {
			rtlist = append(rtlist, i)
		}
	} else {
		if curpage >= 10 {
			for i := int64(curpage - 5); i <= totalpage && i < (curpage+4); i++ {
				rtlist = append(rtlist, i)
			}
		} else {
			for i := int64(1); i <= totalpage && i <= 10; i++ {
				rtlist = append(rtlist, i)
			}
		}
	}
	return rtlist, totalpage
}
